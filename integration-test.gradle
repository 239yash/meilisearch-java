sourceSets {
	integrationTest {
		java.srcDir file('src/integration-test/java')
		test.java.srcDir file('src/integration-test/java')
		resources.srcDir file('src/integration-test/resources')
		test.resources.srcDir file('src/integration-test/resources')
		compileClasspath += sourceSets.main.output
		compileClasspath += sourceSets.test.compileClasspath
		runtimeClasspath += sourceSets.main.output
		runtimeClasspath += sourceSets.test.runtimeClasspath
	}
}

task integrationTest(type: Test) {
	description 'Runs the integration tests.'
	group 'Verification'
	testClassesDirs = sourceSets.integrationTest.output.classesDirs
	classpath = sourceSets.integrationTest.runtimeClasspath
	useJUnitPlatform()
	testLogging {
		events "passed", "skipped", "failed"
	}
}